# API / indexer
DATABASE_URL="file:./prisma/dev.db"
# Optional: branch-specific DB override (used if DATABASE_URL is unset)
DATABASE_URL_FEAT_ARC=""
RPC_URL="http://127.0.0.1:8545"
CHAIN_ID="31337"
CONTRACT_ADDRESS=""
INDEXER_BACKFILL_BLOCK_CHUNK="10" # Optional (limit eth_getLogs range; useful for free-tier RPCs)
WEB_ORIGIN="http://localhost:3000"
# Optional: public API origin (used for validating OAuth returnTo redirects).
API_ORIGIN="http://localhost:8787"
# Optional: comma-separated allowlist for OAuth `returnTo` origins.
# If set, it takes precedence over WEB_ORIGIN/API_ORIGIN.
ALLOWED_RETURN_TO_ORIGINS="http://localhost:3000,http://localhost:8787"
BACKEND_SIGNER_PRIVATE_KEY=""
PAYOUT_AUTHORIZER="" # Optional
DAO_ADDRESS="" # Optional
DAO_DELAY_SECONDS="0" # Optional
API_TOKEN_ENCRYPTION_KEY="" # Optional (enables CLI device flow if set; 32-byte hex / 64 hex chars)
API_SESSION_TTL_HOURS="24" # Optional (first-party CLI token TTL)
API_SESSION_TOKEN_PREFIX="ghb_" # Optional (prefix to distinguish first-party tokens from GitHub tokens)

# GitHub OAuth (Login with GitHub) - used for payout authorization signatures.
# For local dev, keep API on localhost (not 127.0.0.1) so cookies work.
GITHUB_OAUTH_CLIENT_ID=""
GITHUB_OAUTH_CLIENT_SECRET=""
GITHUB_OAUTH_CALLBACK_URL="http://localhost:8787/auth/github/callback"
GITHUB_OAUTH_SCOPE="" # Optional (e.g. "repo" for private repos)

# GitHub (User token mode - default)
# Set GITHUB_AUTH_MODE=app to use GitHub App mode instead.
GITHUB_AUTH_MODE="pat"
# Use GITHUB_TOKEN for user-mode automation (PAT with repo/public_repo scope).
GITHUB_TOKEN=""
GITHUB_BACKFILL_INTERVAL_MINUTES="60"

# GitHub (App mode)
GITHUB_WEBHOOK_SECRET=""
GITHUB_BACKFILL_SECRET=""
GITHUB_APP_ID=""
# PEM contents as a single line (replace newlines with \n), or point your code to a file path later.
GITHUB_PRIVATE_KEY_PEM=""
GITHUB_INSTALLATION_ID=""
